(()=>{var e={};e.id=4542,e.ids=[4542],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},41571:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>o,routeModule:()=>x,tree:()=>d}),a(56314),a(18482),a(58797),a(90996);var s=a(30170),r=a(45002),l=a(83876),i=a.n(l),n=a(66299),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);a.d(t,c);let d=["",{children:["[locale]",{children:["admin",{children:["leads",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,56314)),"D:\\Website\\maktabahelmukhtar\\frontend\\src\\app\\[locale]\\admin\\leads\\page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,18482)),"D:\\Website\\maktabahelmukhtar\\frontend\\src\\app\\[locale]\\admin\\layout.jsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,58797)),"D:\\Website\\maktabahelmukhtar\\frontend\\src\\app\\[locale]\\layout.jsx"]}]},{"not-found":[()=>Promise.resolve().then(a.t.bind(a,90996,23)),"next/dist/client/components/not-found-error"]}],o=["D:\\Website\\maktabahelmukhtar\\frontend\\src\\app\\[locale]\\admin\\leads\\page.jsx"],p="/[locale]/admin/leads/page",m={require:a,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/[locale]/admin/leads/page",pathname:"/[locale]/admin/leads",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},68086:(e,t,a)=>{Promise.resolve().then(a.bind(a,85976))},62752:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(26323).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},84644:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(26323).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},85976:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var s=a(97247),r=a(28964),l=a(8749),i=a(49256),n=a(84644);let c=(0,a(26323).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);var d=a(62752),o=a(33841),p=a(95389),m=a(72411),x=a(97078),u=a(165);function h(){let[e,t]=(0,r.useState)([]),[a,h]=(0,r.useState)(!0),[y,g]=(0,r.useState)(""),[b,j]=(0,r.useState)("all"),f=async(a,s)=>{try{let r=await fetch("/api/admin/leads",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a,status:s})});(await r.json()).success&&(t(e.map(e=>e._id===a?{...e,status:s}:e)),m.ZP.success(`Lead marked as ${s}`))}catch(e){m.ZP.error("Failed to update status")}},v=async a=>{if(confirm("Are you sure you want to delete this lead?"))try{let s=await fetch(`/api/admin/leads?id=${a}`,{method:"DELETE"});(await s.json()).success&&(t(e.filter(e=>e._id!==a)),m.ZP.success("Lead deleted successfully"))}catch(e){m.ZP.error("Failed to delete lead")}},N=e.filter(e=>{let t=e.name.toLowerCase().includes(y.toLowerCase())||e.email.toLowerCase().includes(y.toLowerCase())||e.subject.toLowerCase().includes(y.toLowerCase()),a="all"===b||e.status===b;return t&&a}),w=e=>{switch(e){case"new":return"bg-blue-100 text-blue-800 border-blue-200";case"read":default:return"bg-gray-100 text-gray-800 border-gray-200";case"contacted":return"bg-green-100 text-green-800 border-green-200";case"archived":return"bg-amber-100 text-amber-800 border-amber-200"}};return a?(0,s.jsxs)("div",{className:"h-96 flex flex-col items-center justify-center gap-4",children:[s.jsx(l.Z,{className:"h-10 w-10 text-primary animate-spin"}),s.jsx("p",{className:"text-primary/40 font-black uppercase tracking-widest text-xs",children:"Synchronizing Inquiries..."})]}):(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-4xl font-black text-primary-dark tracking-tight",children:"Lead Repository"}),s.jsx("p",{className:"text-primary/60 font-medium mt-1",children:"Monitor and manage institutional inquiries and contact requests."})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,s.jsxs)("div",{className:"relative",children:[s.jsx(i.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-primary/40"}),s.jsx("input",{type:"text",placeholder:"Search names, emails...",value:y,onChange:e=>g(e.target.value),className:"pl-10 pr-4 py-2.5 bg-white border border-primary/10 rounded-xl focus:ring-2 focus:ring-primary focus:outline-none text-sm w-full sm:w-64"})]}),(0,s.jsxs)("div",{className:"relative",children:[s.jsx(n.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-primary/40"}),(0,s.jsxs)("select",{value:b,onChange:e=>j(e.target.value),className:"pl-10 pr-8 py-2.5 bg-white border border-primary/10 rounded-xl focus:ring-2 focus:ring-primary focus:outline-none text-sm appearance-none leading-tight",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"new",children:"New"}),s.jsx("option",{value:"read",children:"Read"}),s.jsx("option",{value:"contacted",children:"Contacted"}),s.jsx("option",{value:"archived",children:"Archived"})]})]})]})]}),s.jsx("div",{className:"bg-white rounded-[2.5rem] shadow-xl shadow-primary/5 border border-primary/5 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full text-left border-collapse",children:[s.jsx("thead",{children:(0,s.jsxs)("tr",{className:"bg-primary/5 border-b border-primary/10",children:[s.jsx("th",{className:"px-8 py-6 text-[10px] font-black uppercase tracking-widest text-primary/40",children:"Respondent"}),s.jsx("th",{className:"px-8 py-6 text-[10px] font-black uppercase tracking-widest text-primary/40",children:"Inquiry Details"}),s.jsx("th",{className:"px-8 py-6 text-[10px] font-black uppercase tracking-widest text-primary/40",children:"Submission Date"}),s.jsx("th",{className:"px-8 py-6 text-[10px] font-black uppercase tracking-widest text-primary/40 text-right",children:"Operations"})]})}),(0,s.jsxs)("tbody",{className:"divide-y divide-primary/5",children:[s.jsx(x.M,{mode:"popLayout",children:N.map(e=>(0,s.jsxs)(u.E.tr,{layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"hover:bg-primary/[0.02] transition-colors group",children:[s.jsx("td",{className:"px-8 py-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center text-primary font-black text-xs",children:e.name.charAt(0).toUpperCase()}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"font-bold text-primary-dark",children:e.name}),s.jsx("p",{className:"text-xs text-primary/50 font-medium",children:e.email})]})]})}),(0,s.jsxs)("td",{className:"px-8 py-6 max-w-md",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:`px-2 py-0.5 rounded-md text-[10px] font-black uppercase border ${w(e.status)}`,children:e.status}),s.jsx("p",{className:"font-bold text-sm text-primary-dark line-clamp-1",children:e.subject})]}),s.jsx("p",{className:"text-xs text-primary/60 line-clamp-2 leading-relaxed",children:e.message})]}),s.jsx("td",{className:"px-8 py-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs text-primary/40 font-medium",children:[s.jsx(c,{className:"h-3 w-3"}),new Date(e.createdAt).toLocaleDateString()]})}),s.jsx("td",{className:"px-8 py-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:["new"===e.status&&s.jsx("button",{onClick:()=>f(e._id,"read"),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Mark as Read",children:s.jsx(d.Z,{className:"h-5 w-5"})}),"read"===e.status&&s.jsx("button",{onClick:()=>f(e._id,"contacted"),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Mark as Contacted",children:s.jsx(d.Z,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>v(e._id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Lead",children:s.jsx(o.Z,{className:"h-5 w-5"})})]})})]},e._id))}),0===N.length&&s.jsx("tr",{children:s.jsx("td",{colSpan:"4",className:"px-8 py-20 text-center",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4 opacity-20",children:[s.jsx(p.Z,{className:"h-12 w-12"}),s.jsx("p",{className:"font-black uppercase tracking-widest text-xs text-primary",children:"No communications found"})]})})})]})]})})})]})}},56314:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(45347).createProxy)(String.raw`D:\Website\maktabahelmukhtar\frontend\src\app\[locale]\admin\leads\page.jsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[9379,5063,494,2026,5605],()=>a(41571));module.exports=s})();