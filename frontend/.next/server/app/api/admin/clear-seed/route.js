"use strict";(()=>{var e={};e.id=8154,e.ids=[8154],e.modules={11185:e=>{e.exports=require("mongoose")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},23877:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>x,patchFetch:()=>A,requestAsyncStorage:()=>b,routeModule:()=>q,serverHooks:()=>w,staticGenerationAsyncStorage:()=>k});var a={};r.r(a),r.d(a,{POST:()=>P});var o=r(73278),i=r(45002),n=r(54877),l=r(71309),d=r(33477),s=r(3611),p=r(11185),u=r.n(p);let m=new(u()).Schema({type:{type:String,enum:["Quote","Hadith","Announcement","Newsletter","Article"],required:!0},title:{type:String,required:[!0,"Please provide a title."]},image:{type:String},content:{type:String,required:!0},description:{type:String},source:{type:String},date:{type:Date,default:Date.now},active:{type:Boolean,default:!0}},{timestamps:!0});u().models.DailyFeed&&delete u().models.DailyFeed;let c=u().model("DailyFeed",m),y=new(u()).Schema({title:{type:String,required:[!0,"Please provide a title for the gallery item."]},description:{type:String},imageUrl:{type:String,required:[!0,"Please provide an image URL."]},date:{type:Date,default:Date.now},category:{type:String,enum:["Event","Institution","Scholars","Workshop"],default:"Event"}},{timestamps:!0}),g=u().models.Gallery||u().model("Gallery",y),h=new(u()).Schema({name:{type:String,required:[!0,"Please provide the author's name."]},image:{type:String,required:[!0,"Please provide an image URL."]},bio:{type:String,required:[!0,"Please provide a biography."]},role:{type:String,default:"Researcher"},active:{type:Boolean,default:!0}},{timestamps:!0}),S=u().models.Author||u().model("Author",h),v=new(u()).Schema({title:{type:String,required:[!0,"Please provide a title for the ad."]},subtitle:{type:String},imageUrl:{type:String,required:[!0,"Please provide an image URL."]},link:{type:String,default:"/books"},active:{type:Boolean,default:!0},order:{type:Number,default:0}},{timestamps:!0}),f=u().models.Ads||u().model("Ads",v);async function P(){try{await (0,d.Z)();let[e,t,r,a,o]=await Promise.all([s.Z.deleteMany({}),c.deleteMany({}),g.deleteMany({}),S.deleteMany({}),f.deleteMany({})]);return l.NextResponse.json({success:!0,message:"All seeded data cleared successfully.",deleted:{books:e.deletedCount,feed:t.deletedCount,gallery:r.deletedCount,authors:a.deletedCount,ads:o.deletedCount}})}catch(e){return console.error("Clear seed error:",e),l.NextResponse.json({success:!1,error:e.message},{status:500})}}let q=new o.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/admin/clear-seed/route",pathname:"/api/admin/clear-seed",filename:"route",bundlePath:"app/api/admin/clear-seed/route"},resolvedPagePath:"D:\\Website\\maktabahelmukhtar\\frontend\\src\\app\\api\\admin\\clear-seed\\route.js",nextConfigOutput:"",userland:a}),{requestAsyncStorage:b,staticGenerationAsyncStorage:k,serverHooks:w}=q,x="/api/admin/clear-seed/route";function A(){return(0,n.patchFetch)({serverHooks:w,staticGenerationAsyncStorage:k})}},33477:(e,t,r)=>{r.d(t,{Z:()=>n});var a=r(11185),o=r.n(a);let i=global.mongoose;i||(i=global.mongoose={conn:null,promise:null});let n=async function(){let e=process.env.MONGODB_URI;if(!e)throw Error("Please define the MONGODB_URI environment variable inside .env.local");return i.conn||(i.promise||(i.promise=o().connect(e,{bufferCommands:!1}).then(e=>e)),i.conn=await i.promise),i.conn}},3611:(e,t,r)=>{r.d(t,{Z:()=>n});var a=r(11185),o=r.n(a);let i=new(o()).Schema({title:{type:String,required:[!0,"Please provide a title for the book."],maxlength:[100,"Title cannot be more than 100 characters"]},author:{type:String,required:[!0,"Please provide an author name."]},editor:{type:String},description:{type:String,required:[!0,"Please provide a book description."]},coverImage:{type:String,required:[!0,"Please provide a cover image URL."]},authorImage:{type:String},authorBio:{type:String},price:{type:Number,default:0},isBestSeller:{type:Boolean,default:!1},whatsappLink:{type:String,required:[!0,"Please provide a WhatsApp order link."]},category:{type:String,enum:["Fiqh","Hadith","History","Theology","General"],default:"General"}},{timestamps:!0});o().models.Book&&delete o().models.Book;let n=o().model("Book",i)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[9379,4833],()=>r(23877));module.exports=a})();