(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[184],{2464:function(e,t,r){Promise.resolve().then(r.bind(r,3202))},9205:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var s=r(2265);let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:l=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:c="",children:d,iconNode:u,...h}=e;return(0,s.createElement)("svg",{ref:t,...o,width:l,height:l,stroke:r,strokeWidth:i?24*Number(n)/Number(l):n,className:a("lucide",c),...h},[...u.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),i=(e,t)=>{let r=(0,s.forwardRef)((r,o)=>{let{className:i,...c}=r;return(0,s.createElement)(n,{ref:o,iconNode:t,className:a("lucide-".concat(l(e)),i),...c})});return r.displayName="".concat(e),r}},1769:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9205).Z)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},2451:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9205).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},407:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9205).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},3417:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9205).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},3247:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9205).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},6275:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9205).Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},3202:function(e,t,r){"use strict";r.d(t,{default:function(){return u}});var s=r(7437),l=r(2265),a=r(3247),o=r(1769),n=r(8706),i=r(6285),c=r(1307),d=r(3476);function u(){let e=(0,n.T)("Books"),[t,r]=(0,l.useState)([]),[u,h]=(0,l.useState)(!0),[x,m]=(0,l.useState)(""),[f,p]=(0,l.useState)("All"),[b,g]=(0,l.useState)("Latest"),[y,j]=(0,l.useState)(1);(0,l.useEffect)(()=>{fetch("/api/books").then(e=>e.json()).then(e=>{e.success&&r(e.data),h(!1)})},[]),(0,l.useEffect)(()=>{j(1)},[x,f,b]);let w=(0,l.useMemo)(()=>{let e={All:t.length};return t.forEach(t=>{t.category&&(e[t.category]=(e[t.category]||0)+1)}),e},[t]),v=(0,l.useMemo)(()=>{let e=t;return x&&(e=e.filter(e=>e.title.toLowerCase().includes(x.toLowerCase())||e.author.toLowerCase().includes(x.toLowerCase()))),"All"!==f&&(e=e.filter(e=>e.category===f)),"Price: Low to High"===b?e.sort((e,t)=>(parseFloat(e.price)||0)-(parseFloat(t.price)||0)):"Price: High to Low"===b?e.sort((e,t)=>(parseFloat(t.price)||0)-(parseFloat(e.price)||0)):"Best Seller"===b&&e.sort((e,t)=>(t.isBestSeller?1:0)-(e.isBestSeller?1:0)),e},[t,x,f,b]),N=Math.ceil(v.length/12),k=v.slice((y-1)*12,12*y);return(0,s.jsxs)("div",{className:"flex-grow container mx-auto px-6 py-8 flex flex-col lg:flex-row gap-8",children:[(0,s.jsx)("aside",{className:"w-full lg:w-64 flex-shrink-0 lg:sticky lg:top-24 lg:h-fit",children:(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[(0,s.jsxs)("div",{className:"relative w-full mb-6",children:[(0,s.jsx)(a.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,s.jsx)("input",{type:"text",placeholder:e("search"),className:"w-full text-sm pl-9 pr-3 py-2 border rounded-md focus:ring-2 focus:ring-scholarly-blue-950 focus:outline-none",value:x,onChange:e=>m(e.target.value)})]}),(0,s.jsx)("h3",{className:"font-serif text-xl font-bold mb-6 text-scholarly-blue-950 pb-2 border-b border-slate-100",children:"Categories"}),(0,s.jsxs)("ul",{className:"space-y-3 text-sm",children:[(0,s.jsx)("li",{children:(0,s.jsxs)("button",{onClick:()=>p("All"),className:"w-full flex items-center justify-between group transition-colors ".concat("All"===f?"text-scholarly-blue-950 font-medium":"text-slate-600 hover:text-scholarly-blue-950"),children:[(0,s.jsx)("span",{children:"All Books"}),(0,s.jsx)("span",{className:"".concat("All"===f?"bg-blue-50 text-scholarly-blue-950":"bg-slate-50 group-hover:bg-blue-50 text-slate-400 group-hover:text-scholarly-blue-950"," px-2 py-0.5 rounded text-xs transition-colors"),children:w.All||0})]})}),Object.keys(w).filter(e=>"All"!==e).map(e=>(0,s.jsx)("li",{children:(0,s.jsxs)("button",{onClick:()=>p(e),className:"w-full flex items-center justify-between group transition-colors ".concat(f===e?"text-scholarly-blue-950 font-medium":"text-slate-600 hover:text-scholarly-blue-950"),children:[(0,s.jsx)("span",{children:e}),(0,s.jsx)("span",{className:"".concat(f===e?"bg-blue-50 text-scholarly-blue-950":"bg-slate-50 group-hover:bg-blue-50 text-slate-400 group-hover:text-scholarly-blue-950"," px-2 py-0.5 rounded text-xs transition-colors"),children:w[e]})]})},e))]}),(0,s.jsx)("h3",{className:"font-serif text-xl font-bold mt-8 mb-6 text-scholarly-blue-950 pb-2 border-b border-slate-100",children:"Services"}),(0,s.jsxs)("ul",{className:"space-y-3 text-sm",children:[(0,s.jsx)("li",{children:(0,s.jsxs)(d.rU,{className:"flex items-center gap-2 group text-slate-600 hover:text-scholarly-blue-950 transition-colors",href:"/services",children:[(0,s.jsx)("span",{className:"material-symbols-outlined text-[18px]",children:"edit_note"}),(0,s.jsx)("span",{children:"Writing"})]})}),(0,s.jsx)("li",{children:(0,s.jsxs)(d.rU,{className:"flex items-center gap-2 group text-slate-600 hover:text-scholarly-blue-950 transition-colors",href:"/services",children:[(0,s.jsx)("span",{className:"material-symbols-outlined text-[18px]",children:"rate_review"}),(0,s.jsx)("span",{children:"Editing"})]})}),(0,s.jsx)("li",{children:(0,s.jsxs)(d.rU,{className:"flex items-center gap-2 group text-slate-600 hover:text-scholarly-blue-950 transition-colors",href:"/services",children:[(0,s.jsx)("span",{className:"material-symbols-outlined text-[18px]",children:"print"}),(0,s.jsx)("span",{children:"Publishing"})]})})]}),(0,s.jsxs)("div",{className:"mt-8 p-4 bg-scholarly-blue-950 rounded-lg text-white text-center",children:[(0,s.jsx)("p",{className:"font-serif text-lg font-bold mb-2",children:"Want to Publish Your Work?"}),(0,s.jsx)("p",{className:"text-xs text-blue-100 mb-4",children:"We are ready to help you realize your writing dreams."}),(0,s.jsx)(d.rU,{href:"/contact",className:"block w-full text-center bg-white text-scholarly-blue-950 py-2 rounded text-sm font-semibold hover:bg-slate-100 transition-colors",children:"Contact an Editor"})]})]})}),(0,s.jsxs)("section",{className:"flex-grow w-full",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"font-serif text-3xl font-bold text-slate-900 mb-1",children:e("title")}),(0,s.jsxs)("p",{className:"text-sm text-slate-500",children:["Showing ",v.length," results"]})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[(0,s.jsxs)("div",{className:"lg:hidden flex items-center gap-3 w-full",children:[(0,s.jsx)("span",{className:"text-sm text-slate-500 whitespace-nowrap",children:"Category:"}),(0,s.jsxs)("select",{value:f,onChange:e=>p(e.target.value),className:"w-full border-slate-300 rounded-md text-sm focus:ring-scholarly-blue-950 focus:border-scholarly-blue-950 py-2 px-3 bg-white shadow-sm",children:[(0,s.jsx)("option",{value:"All",children:"All Books"}),Object.keys(w).filter(e=>"All"!==e).map(e=>(0,s.jsxs)("option",{value:e,children:[e," (",w[e],")"]},e))]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:[(0,s.jsx)("span",{className:"text-sm text-slate-500 whitespace-nowrap",children:"Sort by:"}),(0,s.jsxs)("select",{value:b,onChange:e=>g(e.target.value),className:"min-w-[150px] w-full sm:w-auto border border-slate-300 rounded-md text-sm focus:ring-scholarly-blue-950 focus:border-scholarly-blue-950 py-2 px-3 bg-white shadow-sm",children:[(0,s.jsx)("option",{children:"Latest"}),(0,s.jsx)("option",{children:"Price: Low to High"}),(0,s.jsx)("option",{children:"Price: High to Low"}),(0,s.jsx)("option",{children:"Best Seller"})]})]})]})]}),u?(0,s.jsx)("div",{className:"flex justify-center py-20",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-scholarly-blue-950"})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-6",children:k.map(e=>(0,s.jsx)(i.Z,{book:e},e._id))}),0===v.length&&(0,s.jsxs)("div",{className:"text-center py-20 text-gray-500",children:[(0,s.jsx)(o.Z,{className:"h-16 w-16 mx-auto mb-4 opacity-20"}),(0,s.jsx)("p",{className:"text-xl",children:e("no_results")})]}),v.length>0&&(0,s.jsx)("div",{className:"mt-12 flex justify-center",children:(0,s.jsx)(c.Z,{currentPage:y,totalPages:N,onPageChange:e=>{j(e),window.scrollTo({top:0,behavior:"smooth"})}})})]})]})]})}},6285:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var s=r(7437),l=r(521),a=r(6275),o=r(3417),n=r(3476),i=r(8706),c=r(4681);function d(e){let{book:t}=e,r=(0,i.T)("Books"),{addToCart:d}=(0,c.j)();return(0,s.jsxs)(l.E.div,{whileHover:{y:-4},className:"book-card bg-white rounded-lg border border-gray-200 overflow-hidden flex flex-col h-full hover:shadow-lg transition-all group/card",children:[(0,s.jsxs)("div",{className:"relative aspect-[3/4] bg-slate-100 overflow-hidden group",children:[(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-[#f4f1ea] text-[#8c8c8c]",children:(0,s.jsx)(n.rU,{href:"/books/".concat(t._id),className:"w-full h-full block",children:(0,s.jsx)("img",{src:t.coverImage,alt:t.title,className:"w-full h-full object-cover opacity-90 group-hover:scale-105 transition-transform duration-500 cursor-pointer"})})}),t.isBestSeller&&(0,s.jsx)("div",{className:"absolute top-3 left-3 bg-gold-500 text-white text-xs font-bold px-2 py-1 rounded shadow-sm z-10",children:"TERLARIS"}),(0,s.jsx)("div",{onClick:()=>d(t),className:"absolute bottom-4 right-4 bg-white/90 backdrop-blur rounded-full w-10 h-10 flex items-center justify-center shadow-lg cursor-pointer hover:bg-gold-500 hover:text-white transition-colors z-20",title:r("add_to_cart"),children:(0,s.jsx)(a.Z,{className:"text-scholarly-blue-950 w-5 h-5 group-hover/card:text-scholarly-blue-950 transition-colors"})})]}),(0,s.jsxs)("div",{className:"p-5 flex flex-col flex-grow",children:[t.category&&(0,s.jsx)("div",{className:"mb-1 text-xs text-scholarly-blue-900 font-semibold uppercase tracking-wide",children:t.category}),(0,s.jsx)(n.rU,{href:"/books/".concat(t._id),children:(0,s.jsx)("h3",{className:"font-serif text-xl font-bold text-slate-900 leading-tight mb-2 hover:text-scholarly-blue-900 cursor-pointer line-clamp-2",children:t.title})}),(0,s.jsxs)("p",{className:"text-sm text-slate-500 mb-4 truncate",children:["Oleh ",t.author]}),(0,s.jsx)("div",{className:"mt-auto flex items-end justify-between border-t border-slate-100 pt-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"block text-xs text-slate-400 mb-0.5",children:"Harga"}),(0,s.jsxs)("span",{className:"text-lg font-bold text-slate-900",children:["RM ",t.price?parseFloat(t.price).toFixed(2):"0.00"]})]})}),(0,s.jsxs)("a",{href:"https://wa.me/".concat(t.whatsappLink||"60195328616","?text=").concat(encodeURIComponent("Assalam Admin, saya ingin memesan:\n\uD83D\uDCDA Buku: ".concat(t.title,"\n\uD83D\uDCB0 Harga: RM ").concat(t.price,"\n\nSila konfirmasi."))),target:"_blank",rel:"noopener noreferrer",className:"mt-4 w-full flex items-center justify-center gap-2 bg-[#25D366] hover:bg-[#1da851] text-white py-2.5 rounded-md font-medium text-sm transition-colors shadow-sm",children:[(0,s.jsx)(o.Z,{className:"w-5 h-5"})," Beli di WhatsApp"]})]})]})}},1307:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var s=r(7437),l=r(2451),a=r(407);function o(e){let{currentPage:t,totalPages:r,onPageChange:o}=e;if(r<=1)return null;let n=[],i=t-2,c=t+2;for(let e=1;e<=r;e++)(1===e||e===r||e>=i&&e<=c)&&n.push(e);let d=[],u=null;for(let e of n)u&&e-u>1&&d.push("..."),d.push(e),u=e;return(0,s.jsxs)("div",{className:"flex items-center justify-center gap-1 mt-12 select-none",children:[(0,s.jsx)("button",{onClick:()=>o(t-1),disabled:1===t,className:"flex items-center gap-1 px-3 py-2 rounded-lg text-sm font-semibold text-primary border border-primary/20 hover:bg-primary hover:text-white transition-colors disabled:opacity-30 disabled:cursor-not-allowed",children:(0,s.jsx)(l.Z,{className:"h-4 w-4"})}),d.map((e,r)=>"..."===e?(0,s.jsx)("span",{className:"px-3 py-2 text-primary/40 font-bold",children:"â€¦"},"ellipsis-".concat(r)):(0,s.jsx)("button",{onClick:()=>o(e),className:"w-10 h-10 rounded-lg text-sm font-bold transition-all ".concat(e===t?"bg-primary text-white shadow-lg shadow-primary/30 scale-105":"text-primary border border-primary/20 hover:bg-primary hover:text-white"),children:e},e)),(0,s.jsx)("button",{onClick:()=>o(t+1),disabled:t===r,className:"flex items-center gap-1 px-3 py-2 rounded-lg text-sm font-semibold text-primary border border-primary/20 hover:bg-primary hover:text-white transition-colors disabled:opacity-30 disabled:cursor-not-allowed",children:(0,s.jsx)(a.Z,{className:"h-4 w-4"})})]})}},4681:function(e,t,r){"use strict";r.d(t,{CartProvider:function(){return n},j:function(){return o}});var s=r(7437),l=r(2265);let a=(0,l.createContext)(),o=()=>(0,l.useContext)(a),n=e=>{let{children:t}=e,[r,o]=(0,l.useState)([]),[n,i]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let e=localStorage.getItem("maktabah_cart");if(e)try{o(JSON.parse(e))}catch(e){console.error("Failed to parse cart",e)}},[]),(0,l.useEffect)(()=>{localStorage.setItem("maktabah_cart",JSON.stringify(r))},[r]);let c=r.reduce((e,t)=>e+(t.price||0)*t.quantity,0),d=r.reduce((e,t)=>e+t.quantity,0);return(0,s.jsx)(a.Provider,{value:{cart:r,addToCart:e=>{o(t=>t.find(t=>t._id===e._id)?t.map(t=>t._id===e._id?{...t,quantity:t.quantity+1}:t):[...t,{...e,quantity:1}]),i(!0)},removeFromCart:e=>{o(t=>t.filter(t=>t._id!==e))},updateQuantity:(e,t)=>{o(r=>r.map(r=>{if(r._id===e){let e=Math.max(1,r.quantity+t);return{...r,quantity:e}}return r}))},clearCart:()=>{o([])},cartTotal:c,cartCount:d,isCartOpen:n,setIsCartOpen:i},children:t})}},3476:function(e,t,r){"use strict";r.d(t,{jD:function(){return a},rU:function(){return s},tv:function(){return o}});let{Link:s,redirect:l,usePathname:a,useRouter:o}=(0,r(2223).Z)({locales:["en","ms"],localePrefix:"always"})},8706:function(e,t,r){"use strict";r.d(t,{T:function(){return a}});var s=r(9234);function l(e,t){return(...e)=>{try{return t(...e)}catch{throw Error(void 0)}}}let a=l(0,s.T_);l(0,s.Gb)}},function(e){e.O(0,[234,521,223,971,117,744],function(){return e(e.s=2464)}),_N_E=e.O()}]);