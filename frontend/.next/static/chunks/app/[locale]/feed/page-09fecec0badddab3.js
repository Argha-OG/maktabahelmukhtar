(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[487],{9508:function(e,t,s){Promise.resolve().then(s.bind(s,9448))},9205:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var l=s(2265);let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,l.forwardRef)((e,t)=>{let{color:s="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:o="",children:d,iconNode:x,...h}=e;return(0,l.createElement)("svg",{ref:t,...n,width:r,height:r,stroke:s,strokeWidth:c?24*Number(i)/Number(r):i,className:a("lucide",o),...h},[...x.map(e=>{let[t,s]=e;return(0,l.createElement)(t,s)}),...Array.isArray(d)?d:[d]])}),c=(e,t)=>{let s=(0,l.forwardRef)((s,n)=>{let{className:c,...o}=s;return(0,l.createElement)(i,{ref:n,iconNode:t,className:a("lucide-".concat(r(e)),c),...o})});return s.displayName="".concat(e),s}},6858:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(9205).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},1047:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(9205).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},2451:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(9205).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},407:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(9205).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},3247:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(9205).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},8919:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(9205).Z)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},9448:function(e,t,s){"use strict";s.d(t,{default:function(){return b}});var l=s(7437),r=s(2265),a=s(1047),n=s(8919),i=s(9205);let c=(0,i.Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);var o=s(6858);let d=(0,i.Z)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);var x=s(3247),h=s(8706),u=s(521),m=s(3476),f=s(1307);function b(){let e=(0,h.T)("Feed"),[t,s]=(0,r.useState)([]),[i,b]=(0,r.useState)(!0),[g,p]=(0,r.useState)(1),[y,j]=(0,r.useState)(""),[w,N]=(0,r.useState)(""),[v,k]=(0,r.useState)("All");(0,r.useEffect)(()=>{fetch("/api/feed").then(e=>e.json()).then(e=>{e.success&&s(e.data),b(!1)})},[]),(0,r.useEffect)(()=>{p(1)},[y,w,v]);let Z=(0,r.useMemo)(()=>{let e={All:t.length};return t.forEach(t=>{t.type&&(e[t.type]=(e[t.type]||0)+1)}),e},[t]),C=(0,r.useMemo)(()=>{let e=t;return y&&(e=e.filter(e=>e.title.toLowerCase().includes(y.toLowerCase())||e.content.toLowerCase().includes(y.toLowerCase()))),"All"!==v&&(e=e.filter(e=>e.type===v)),w&&(e=e.filter(e=>new Date(e.date).toISOString().split("T")[0]===w)),e.sort((e,t)=>new Date(t.date)-new Date(e.date)),e},[t,y,v,w]),_=Math.ceil(C.length/10),A=C.slice((g-1)*10,10*g),S=e=>"Hadith"===e.type?(0,l.jsxs)("article",{className:"bg-white rounded-xl shadow-sm border-t-4 border-gold-500 overflow-hidden relative group hover:shadow-md transition-shadow duration-300",children:[(0,l.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-5",children:(0,l.jsx)("span",{className:"material-symbols-outlined text-8xl text-scholarly-blue-950",children:"format_quote"})}),(0,l.jsxs)("div",{className:"p-8 relative z-10",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,l.jsx)("span",{className:"px-3 py-1 bg-blue-50 text-scholarly-blue-950 text-xs font-semibold uppercase tracking-wider rounded-sm border border-blue-100",children:e.type}),(0,l.jsxs)("span",{className:"text-gray-400 text-sm flex items-center gap-1",children:[(0,l.jsx)(a.Z,{className:"w-4 h-4"})," ",new Date(e.date).toLocaleDateString()]})]}),(0,l.jsxs)("div",{className:"text-center my-6",children:[(0,l.jsx)(m.rU,{href:"/feed/".concat(e._id),children:(0,l.jsx)("h2",{className:"font-serif text-2xl mb-4 text-slate-900 group-hover:text-scholarly-blue-900 transition-colors cursor-pointer",children:e.title})}),(0,l.jsxs)("p",{className:"font-serif text-xl italic text-gray-700 leading-relaxed max-w-2xl mx-auto",children:['"',e.content,'"']}),(0,l.jsxs)("div",{className:"mt-4 flex justify-center items-center",children:[(0,l.jsx)("span",{className:"h-px w-16 bg-gold-500"}),(0,l.jsx)("span",{className:"mx-3 text-sm text-gray-500 font-semibold uppercase tracking-wide",children:"Maktabah El Mukhtar"}),(0,l.jsx)("span",{className:"h-px w-16 bg-gold-500"})]})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center mt-6 pt-6 border-t border-gray-100",children:[(0,l.jsxs)("div",{className:"flex gap-4",children:[(0,l.jsx)("button",{className:"text-gray-400 hover:text-scholarly-blue-950 transition-colors",title:"Share",children:(0,l.jsx)(n.Z,{className:"w-5 h-5"})}),(0,l.jsx)("button",{className:"text-gray-400 hover:text-red-500 transition-colors",title:"Like",children:(0,l.jsx)(c,{className:"w-5 h-5"})})]}),(0,l.jsxs)(m.rU,{href:"/feed/".concat(e._id),className:"text-scholarly-blue-950 hover:text-slate-900 text-sm font-medium flex items-center gap-1",children:["Read Context ",(0,l.jsx)(o.Z,{className:"w-4 h-4"})]})]})]})]},e._id):"Article"===e.type?(0,l.jsxs)("article",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden flex flex-col md:flex-row hover:border-gold-500 transition-colors duration-300",children:[e.image&&(0,l.jsx)("div",{className:"md:w-1/3 h-48 md:h-auto bg-gray-100 relative",children:(0,l.jsx)("div",{className:"w-full h-full bg-cover bg-center",style:{backgroundImage:"url(".concat(e.image,")")},children:(0,l.jsx)("div",{className:"absolute inset-0 bg-black/10"})})}),(0,l.jsxs)("div",{className:"".concat(e.image?"md:w-2/3":"w-full"," p-6 md:p-8 flex flex-col justify-center"),children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,l.jsx)("span",{className:"px-3 py-1 bg-gray-100 text-gray-600 text-xs font-semibold uppercase tracking-wider rounded-sm",children:e.type}),(0,l.jsx)("span",{className:"text-gray-400 text-sm",children:new Date(e.date).toLocaleDateString()})]}),(0,l.jsx)(m.rU,{href:"/feed/".concat(e._id),children:(0,l.jsx)("h2",{className:"font-serif text-2xl font-bold text-scholarly-blue-950 mb-3 hover:text-slate-900 cursor-pointer",children:e.title})}),(0,l.jsx)("p",{className:"text-gray-600 mb-4 line-clamp-2",children:e.content}),(0,l.jsx)("div",{className:"mt-auto",children:(0,l.jsx)(m.rU,{href:"/feed/".concat(e._id),className:"inline-flex items-center text-sm font-semibold text-scholarly-blue-950 hover:underline",children:"Read Full Article"})})]})]},e._id):"Quote"===e.type?(0,l.jsxs)("article",{className:"bg-scholarly-blue-950 rounded-xl shadow-sm text-white overflow-hidden relative",children:[(0,l.jsx)("div",{className:"absolute top-0 left-0 w-full h-1 bg-gold-500"}),(0,l.jsx)("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(#D4AF37 1px, transparent 1px)",backgroundSize:"20px 20px"}}),(0,l.jsxs)("div",{className:"p-8 md:p-10 text-center relative z-10",children:[(0,l.jsx)(d,{className:"w-10 h-10 mx-auto text-gold-500 mb-4"}),(0,l.jsxs)("blockquote",{className:"font-serif text-xl md:text-2xl leading-relaxed mb-6 font-light",children:['"',e.content,'"']}),(0,l.jsxs)("cite",{className:"block text-gold-500 text-sm uppercase tracking-widest font-semibold not-italic",children:["— ",e.title]}),(0,l.jsxs)("div",{className:"mt-6 text-xs text-blue-200/60",children:["Posted on ",new Date(e.date).toLocaleDateString()]})]})]},e._id):(0,l.jsx)("article",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 md:p-8 relative hover:shadow-md transition-shadow",children:(0,l.jsxs)("div",{className:"flex items-start gap-4",children:[(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsx)("div",{className:"w-12 h-12 bg-blue-50 text-scholarly-blue-950 rounded-full flex items-center justify-center",children:(0,l.jsx)("span",{className:"material-symbols-outlined text-2xl",children:"campaign"})})}),(0,l.jsxs)("div",{className:"flex-grow",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,l.jsx)(m.rU,{href:"/feed/".concat(e._id),children:(0,l.jsx)("h3",{className:"font-serif text-lg font-bold text-scholarly-blue-950 hover:text-slate-900",children:e.title})}),(0,l.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.date).toLocaleDateString()})]}),(0,l.jsx)("p",{className:"text-gray-600 mb-4 line-clamp-2",children:e.content}),(0,l.jsx)("div",{className:"flex gap-3",children:(0,l.jsx)(m.rU,{href:"/feed/".concat(e._id),className:"px-4 py-2 bg-gray-50 text-gray-700 text-sm font-medium rounded hover:bg-blue-50 hover:text-scholarly-blue-950 transition-colors border border-gray-200",children:"View Details"})})]})]})},e._id);return(0,l.jsxs)("div",{className:"flex flex-col w-full bg-sand-50 font-sans",children:[(0,l.jsx)("header",{className:"bg-white shadow-sm py-12 border-b border-gray-100",children:(0,l.jsxs)("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[(0,l.jsx)("span",{className:"text-gold-500 uppercase tracking-widest text-xs font-semibold mb-2 block",children:"Insights & Wisdom"}),(0,l.jsx)("h1",{className:"text-4xl md:text-5xl font-serif text-scholarly-blue-950 mb-4",children:e("journal_title")||"Daily Feed & Islamic Quotes"}),(0,l.jsx)("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto font-light",children:e("journal_subtitle")||"Explore our daily curated selection of Hadith, inspirational Islamic quotes, and the latest updates from Maktabah El Mukhtar."})]})}),(0,l.jsx)("main",{className:"flex-grow container mx-auto px-6 py-10 w-full",children:(0,l.jsxs)("div",{className:"flex flex-col lg:flex-row gap-10",children:[(0,l.jsxs)("aside",{className:"w-full lg:w-1/4 lg:flex-shrink-0 space-y-8 lg:sticky lg:top-24 lg:h-fit",children:[(0,l.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100",children:[(0,l.jsx)("h3",{className:"font-serif text-lg font-semibold mb-4 text-scholarly-blue-950",children:"Search Feed"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("input",{className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-scholarly-blue-950 focus:outline-none text-sm",placeholder:"Search keywords...",type:"text",value:y,onChange:e=>j(e.target.value)}),(0,l.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,l.jsx)(x.Z,{className:"text-gray-400 w-4 h-4"})})]})]}),(0,l.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100",children:[(0,l.jsx)("h3",{className:"font-serif text-lg font-semibold mb-4 text-scholarly-blue-950",children:"Filter by Date"}),(0,l.jsx)("input",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-scholarly-blue-950 focus:outline-none text-sm mb-3 text-gray-600",type:"date",value:w,onChange:e=>N(e.target.value)}),w&&(0,l.jsx)("button",{onClick:()=>N(""),className:"w-full bg-slate-100 text-slate-700 py-2 rounded-md text-sm hover:bg-slate-200 transition",children:"Clear Filter"})]}),(0,l.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-100",children:[(0,l.jsx)("h3",{className:"font-serif text-lg font-semibold mb-4 text-scholarly-blue-950",children:"Categories"}),(0,l.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,l.jsx)("li",{children:(0,l.jsxs)("button",{onClick:()=>k("All"),className:"w-full flex items-center justify-between group transition-colors ".concat("All"===v?"text-scholarly-blue-950 font-bold":"text-gray-600 hover:text-scholarly-blue-950"),children:[(0,l.jsx)("span",{children:"All Entries"}),(0,l.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs ".concat("All"===v?"bg-blue-50 text-scholarly-blue-950":"bg-gray-100 text-gray-500 group-hover:bg-blue-50 group-hover:text-scholarly-blue-950"),children:Z.All})]})}),Object.keys(Z).filter(e=>"All"!==e).map(e=>(0,l.jsx)("li",{children:(0,l.jsxs)("button",{onClick:()=>k(e),className:"w-full flex items-center justify-between group transition-colors ".concat(v===e?"text-scholarly-blue-950 font-bold":"text-gray-600 hover:text-scholarly-blue-950"),children:[(0,l.jsx)("span",{children:e}),(0,l.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs ".concat(v===e?"bg-blue-50 text-scholarly-blue-950":"bg-gray-100 text-gray-500 group-hover:bg-blue-50 group-hover:text-scholarly-blue-950"),children:Z[e]})]})},e))]})]})]}),(0,l.jsx)("section",{className:"w-full lg:w-3/4 flex flex-col space-y-8",children:i?(0,l.jsx)("div",{className:"flex justify-center py-40",children:(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-scholarly-blue-950/20 border-t-scholarly-blue-950"})}):(0,l.jsxs)(l.Fragment,{children:[0===C.length&&(0,l.jsxs)("div",{className:"text-center py-20 bg-white rounded-xl shadow-sm border border-gray-100",children:[(0,l.jsx)(a.Z,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),(0,l.jsx)("h3",{className:"text-xl font-serif text-scholarly-blue-950",children:e("no_results_title")||"No entries found."}),(0,l.jsx)("p",{className:"text-gray-500 mt-2",children:"Try adjusting your search or filters."})]}),A.map((e,t)=>(0,l.jsx)(u.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},children:S(e)},e._id)),C.length>0&&(0,l.jsx)("div",{className:"mt-8",children:(0,l.jsx)(f.Z,{currentPage:g,totalPages:_,onPageChange:e=>{p(e),window.scrollTo({top:0,behavior:"smooth"})}})})]})})]})})]})}},1307:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var l=s(7437),r=s(2451),a=s(407);function n(e){let{currentPage:t,totalPages:s,onPageChange:n}=e;if(s<=1)return null;let i=[],c=t-2,o=t+2;for(let e=1;e<=s;e++)(1===e||e===s||e>=c&&e<=o)&&i.push(e);let d=[],x=null;for(let e of i)x&&e-x>1&&d.push("..."),d.push(e),x=e;return(0,l.jsxs)("div",{className:"flex items-center justify-center gap-1 mt-12 select-none",children:[(0,l.jsx)("button",{onClick:()=>n(t-1),disabled:1===t,className:"flex items-center gap-1 px-3 py-2 rounded-lg text-sm font-semibold text-primary border border-primary/20 hover:bg-primary hover:text-white transition-colors disabled:opacity-30 disabled:cursor-not-allowed",children:(0,l.jsx)(r.Z,{className:"h-4 w-4"})}),d.map((e,s)=>"..."===e?(0,l.jsx)("span",{className:"px-3 py-2 text-primary/40 font-bold",children:"…"},"ellipsis-".concat(s)):(0,l.jsx)("button",{onClick:()=>n(e),className:"w-10 h-10 rounded-lg text-sm font-bold transition-all ".concat(e===t?"bg-primary text-white shadow-lg shadow-primary/30 scale-105":"text-primary border border-primary/20 hover:bg-primary hover:text-white"),children:e},e)),(0,l.jsx)("button",{onClick:()=>n(t+1),disabled:t===s,className:"flex items-center gap-1 px-3 py-2 rounded-lg text-sm font-semibold text-primary border border-primary/20 hover:bg-primary hover:text-white transition-colors disabled:opacity-30 disabled:cursor-not-allowed",children:(0,l.jsx)(a.Z,{className:"h-4 w-4"})})]})}},3476:function(e,t,s){"use strict";s.d(t,{jD:function(){return a},rU:function(){return l},tv:function(){return n}});let{Link:l,redirect:r,usePathname:a,useRouter:n}=(0,s(2223).Z)({locales:["en","ms"],localePrefix:"always"})},8706:function(e,t,s){"use strict";s.d(t,{T:function(){return a}});var l=s(9234);function r(e,t){return(...e)=>{try{return t(...e)}catch{throw Error(void 0)}}}let a=r(0,l.T_);r(0,l.Gb)}},function(e){e.O(0,[234,521,223,971,117,744],function(){return e(e.s=9508)}),_N_E=e.O()}]);