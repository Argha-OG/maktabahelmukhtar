(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[199],{8158:function(e,t,s){Promise.resolve().then(s.bind(s,6325))},5455:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]])},3113:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},1817:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},9345:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},2096:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]])},6865:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},5805:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},6325:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return k}});var a=s(7437),l=s(2265),d=s(1817),r=s(9205);let i=(0,r.Z)("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]),n=(0,r.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var o=s(2096),c=s(9345),h=s(5805),m=s(5455),x=s(3113);let u=(0,r.Z)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);var b=s(6865);let p=(0,r.Z)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);var g=s(3476),f=s(9064);function k(){let[e,t]=(0,l.useState)({books:0,feed:0,authors:0,gallery:0,ads:0,leads:0}),[s,r]=(0,l.useState)(!0),[k,v]=(0,l.useState)(!1),j=async()=>{if("DELETE"!==window.prompt("⚠️ DANGER ZONE\n\nThis will permanently delete ALL books, feed items, gallery images, authors, and ads from the database.\n\nType DELETE to confirm:")){f.ZP.error("Cancelled — you must type DELETE exactly.");return}v(!0);try{let s=await fetch("/api/admin/clear-seed",{method:"POST"}),a=await s.json();a.success?(f.ZP.success("Cleared: ".concat(a.deleted.books," books, ").concat(a.deleted.feed," feed, ").concat(a.deleted.gallery," gallery, ").concat(a.deleted.authors," authors, ").concat(a.deleted.ads," ads.")),t({books:0,feed:0,authors:0,gallery:0,ads:0,leads:e.leads})):f.ZP.error(a.error||"Clear failed.")}catch(e){f.ZP.error("Network error while clearing data.")}finally{v(!1)}};return((0,l.useEffect)(()=>{(async()=>{try{var e,s,a,l,d,i;let[r,n,o,c,h,m]=await Promise.all([fetch("/api/books"),fetch("/api/feed"),fetch("/api/admin/authors"),fetch("/api/admin/gallery"),fetch("/api/admin/ads"),fetch("/api/admin/leads")]),[x,u,b,p,g,f]=await Promise.all([r.json(),n.json(),o.json(),c.json(),h.json(),m.json()]);t({books:(null===(e=x.data)||void 0===e?void 0:e.length)||0,feed:(null===(s=u.data)||void 0===s?void 0:s.length)||0,authors:(null===(a=b.data)||void 0===a?void 0:a.length)||0,gallery:(null===(l=p.data)||void 0===l?void 0:l.length)||0,ads:(null===(d=g.data)||void 0===d?void 0:d.length)||0,leads:(null===(i=f.data)||void 0===i?void 0:i.length)||0})}catch(e){console.error("Failed to fetch stats",e)}finally{r(!1)}})()},[]),s)?(0,a.jsxs)("div",{className:"h-96 flex flex-col items-center justify-center gap-4",children:[(0,a.jsx)(d.Z,{className:"h-10 w-10 text-blue-800 animate-spin"}),(0,a.jsx)("p",{className:"text-blue-800/40 font-black uppercase tracking-widest text-xs",children:"Loading Dashboard..."})]}):(0,a.jsxs)("div",{className:"space-y-8 max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm hover:shadow-md transition-shadow",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsx)("div",{className:"p-3 bg-blue-800/10 rounded-lg text-blue-800",children:(0,a.jsx)(i,{className:"w-6 h-6"})}),(0,a.jsxs)("span",{className:"flex items-center text-xs font-medium text-blue-600 bg-blue-50 dark:bg-blue-900/20 px-2 py-1 rounded-full",children:["Active ",(0,a.jsx)(n,{className:"w-3 h-3 ml-1"})]})]}),(0,a.jsx)("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Total Books"}),(0,a.jsx)("h3",{className:"text-3xl font-bold text-slate-900 dark:text-white mt-1",children:e.books})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm hover:shadow-md transition-shadow",children:[(0,a.jsx)("div",{className:"flex justify-between items-start mb-4",children:(0,a.jsx)("div",{className:"p-3 bg-emerald-600/10 rounded-lg text-emerald-600",children:(0,a.jsx)(o.Z,{className:"w-6 h-6"})})}),(0,a.jsx)("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Daily Feed Posts"}),(0,a.jsx)("h3",{className:"text-3xl font-bold text-slate-900 dark:text-white mt-1",children:e.feed})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-gold-500/20 dark:border-gold-500/10 shadow-sm hover:shadow-md transition-shadow relative overflow-hidden group",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gold-500/5 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"}),(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[(0,a.jsx)("div",{className:"p-3 bg-amber-50 dark:bg-amber-900/20 rounded-lg text-gold-600",children:(0,a.jsx)(c.Z,{className:"w-6 h-6"})}),e.leads>0&&(0,a.jsx)("span",{className:"flex items-center text-xs font-medium text-amber-600 bg-amber-50 dark:bg-amber-900/20 px-2 py-1 rounded-full",children:"Needs Action"})]}),(0,a.jsx)("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Pending Leads"}),(0,a.jsx)("h3",{className:"text-3xl font-bold text-slate-900 dark:text-white mt-1",children:e.leads})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm hover:shadow-md transition-shadow",children:[(0,a.jsx)("div",{className:"flex justify-between items-start mb-4",children:(0,a.jsx)("div",{className:"p-3 bg-purple-600/10 rounded-lg text-purple-600",children:(0,a.jsx)(h.Z,{className:"w-6 h-6"})})}),(0,a.jsx)("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Writers & Scholars"}),(0,a.jsx)("h3",{className:"text-3xl font-bold text-slate-900 dark:text-white mt-1",children:e.authors})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-2 flex flex-col gap-6",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden flex-1",children:[(0,a.jsx)("div",{className:"px-6 py-5 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-slate-50/50 dark:bg-slate-800/30",children:(0,a.jsx)("h3",{className:"font-bold text-lg text-slate-900 dark:text-white",children:"Management Modules"})}),(0,a.jsx)("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[{title:"Manage Books",desc:"Add or update the book catalog",link:"/admin/books",color:"text-blue-600",bg:"bg-blue-100",icon:m.Z},{title:"Daily Feed",desc:"Manage Islamic reminders and articles",link:"/admin/feed",color:"text-emerald-600",bg:"bg-emerald-100",icon:o.Z},{title:"Writers Directory",desc:"Add or remove scholars and writers",link:"/admin/authors",color:"text-purple-600",bg:"bg-purple-100",icon:h.Z},{title:"Media Gallery",desc:"Manage images and events",link:"/admin/gallery",color:"text-amber-600",bg:"bg-amber-100",icon:x.Z}].map((e,t)=>(0,a.jsxs)(g.rU,{href:e.link,className:"p-4 hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors flex gap-4 items-center",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full ".concat(e.bg," dark:bg-slate-700 flex items-center justify-center shrink-0 ").concat(e.color),children:(0,a.jsx)(e.icon,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-0.5",children:e.desc})]}),(0,a.jsx)(u,{className:"text-slate-400 w-4 h-4"})]},t))})]})}),(0,a.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,a.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/10 rounded-xl border border-red-200 dark:border-red-900/50 shadow-sm overflow-hidden",children:[(0,a.jsx)("div",{className:"p-5 border-b border-red-200 dark:border-red-900/50 bg-red-100/50 dark:bg-red-900/20",children:(0,a.jsxs)("h3",{className:"font-bold text-lg text-red-700 dark:text-red-400 flex items-center gap-2",children:[(0,a.jsx)(b.Z,{className:"w-5 h-5"}),"Danger Zone"]})}),(0,a.jsxs)("div",{className:"p-5",children:[(0,a.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400 mb-4 leading-relaxed font-medium",children:"Clear All Seeded Data — permanently deletes every entry from the database. Use this to remove old demo records."}),(0,a.jsxs)("button",{onClick:j,disabled:k,className:"w-full bg-red-600 hover:bg-red-700 text-white px-4 py-3 rounded-lg text-sm font-bold shadow-sm shadow-red-600/30 transition-all active:scale-95 flex items-center justify-center gap-2 disabled:opacity-50",children:[k?(0,a.jsx)(d.Z,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)(p,{className:"w-4 h-4"}),k?"Clearing...":"Clear All Data"]})]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 dark:from-slate-800 dark:to-slate-900 rounded-xl p-5 text-white shadow-lg relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-500/10 rounded-full -mr-10 -mt-10 blur-2xl"}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsx)("h4",{className:"font-bold text-sm text-slate-300 uppercase tracking-wider mb-4",children:"System Status"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-2 h-2 rounded-full bg-blue-400 shadow-[0_0_8px_rgba(96,165,250,0.6)]"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Database (MongoDB)"})]}),(0,a.jsx)("span",{className:"text-xs text-blue-400 bg-blue-400/10 px-2 py-0.5 rounded",children:"Healthy"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-2 h-2 rounded-full bg-blue-400 shadow-[0_0_8px_rgba(96,165,250,0.6)]"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Next.js App Router"})]}),(0,a.jsx)("span",{className:"text-xs text-blue-400 bg-blue-400/10 px-2 py-0.5 rounded",children:"Optimal"})]})]}),(0,a.jsx)("div",{className:"mt-6 pt-4 border-t border-white/10 flex justify-between items-center",children:(0,a.jsx)("span",{className:"text-xs text-slate-400",children:"All systems operational"})})]})]})]})]})]})}},3476:function(e,t,s){"use strict";s.d(t,{jD:function(){return d},rU:function(){return a},tv:function(){return r}});let{Link:a,redirect:l,usePathname:d,useRouter:r}=(0,s(2223).Z)({locales:["en","ms"],localePrefix:"always"})}},function(e){e.O(0,[234,223,765,971,117,744],function(){return e(e.s=8158)}),_N_E=e.O()}]);